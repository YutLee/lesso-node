webpackJsonp([1],{226:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(7),i=o(r),a=n(23),u=(n(14),n(16),n(96)),s=o(u);(0,a.render)(i.default.createElement(s.default,null),document.getElementById("root"))},96:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(7),c=o(l),f=(n(14),function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLogining:!1,mobile:"",password:""},n.change=n.change.bind(n),n.submit=n.submit.bind(n),n}return u(t,e),s(t,[{key:"change",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.setState({isLogining:!0});var n={mobile:this.state.mobile,password:this.state.password};fetch("/login",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){t.setState({isLogining:!1}),e.message&&alert(e.message),200==e.code&&(location.href=e.location)}).catch(function(e){return t.setState({isLogining:!1})})}},{key:"render",value:function(){return c.default.createElement("form",{onSubmit:this.submit},c.default.createElement("input",{type:"text",name:"mobile",value:this.state.mobile,onChange:this.change}),c.default.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.change}),c.default.createElement("button",{type:"submit",disabled:this.state.isLogining},"登录"))}}]),t}(c.default.Component));t.default=f}},[226]);
//# sourceMappingURL=users-login-ce3964ab.js.map