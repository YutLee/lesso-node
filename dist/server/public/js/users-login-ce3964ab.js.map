{"version":3,"sources":["webpack:///js/users-login-ce3964ab.js","webpack:///./src/client/routes/users/login.js","webpack:///./src/client/containers/LoginFrom.js"],"names":["webpackJsonp","226","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_LoginFrom","_LoginFrom2","render","createElement","document","getElementById","96","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","protoProps","staticProps","LoginFrom","_React$Component","this","_this","getPrototypeOf","state","isLogining","mobile","password","change","bind","submit","e","setState","name","_this2","preventDefault","body","fetch","method","credentials","headers","Content-Type","JSON","stringify","then","res","json","message","alert","code","location","href","catch","err","onSubmit","type","onChange","disabled","Component"],"mappings":"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","file":"js/users-login-ce3964ab.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 226:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(7);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(23);\n\nvar _reactRedux = __webpack_require__(14);\n\nvar _redux = __webpack_require__(16);\n\nvar _LoginFrom = __webpack_require__(96);\n\nvar _LoginFrom2 = _interopRequireDefault(_LoginFrom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// let store = createStore(todoApp)\n\n(0, _reactDom.render)(_react2.default.createElement(_LoginFrom2.default, null), document.getElementById('root')); // import 'babel-polyfill'\n\n/***/ }),\n\n/***/ 96:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(7);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(14);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// import fetch from 'isomorphic-fetch'\n\nvar LoginFrom = function (_React$Component) {\n  _inherits(LoginFrom, _React$Component);\n\n  function LoginFrom(props) {\n    _classCallCheck(this, LoginFrom);\n\n    var _this = _possibleConstructorReturn(this, (LoginFrom.__proto__ || Object.getPrototypeOf(LoginFrom)).call(this, props));\n\n    _this.state = {\n      isLogining: false,\n      mobile: '',\n      password: ''\n    };\n    _this.change = _this.change.bind(_this);\n    _this.submit = _this.submit.bind(_this);\n    return _this;\n  }\n\n  _createClass(LoginFrom, [{\n    key: 'change',\n    value: function change(e) {\n      this.setState(_defineProperty({}, e.target.name, e.target.value));\n    }\n  }, {\n    key: 'submit',\n    value: function submit(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      this.setState({\n        isLogining: true\n      });\n\n      var body = { mobile: this.state.mobile, password: this.state.password };\n      fetch('/login', {\n        method: 'POST',\n        credentials: 'same-origin', //enable cookie\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        _this2.setState({ isLogining: false });\n        res.message && alert(res.message);\n        if (res.code == 200) {\n          location.href = res.location;\n        }\n      }).catch(function (err) {\n        return _this2.setState({ isLogining: false });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'form',\n        { onSubmit: this.submit },\n        _react2.default.createElement('input', { type: 'text', name: 'mobile', value: this.state.mobile, onChange: this.change }),\n        _react2.default.createElement('input', { type: 'password', name: 'password', value: this.state.password, onChange: this.change }),\n        _react2.default.createElement(\n          'button',\n          { type: 'submit', disabled: this.state.isLogining },\n          '\\u767B\\u5F55'\n        )\n      );\n    }\n  }]);\n\n  return LoginFrom;\n}(_react2.default.Component);\n\nexports.default = LoginFrom;\n\n/***/ })\n\n},[226]);\n\n\n// WEBPACK FOOTER //\n// js/users-login-ce3964ab.js","// import 'babel-polyfill'\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\nimport LoginFrom from '../../containers/LoginFrom';\r\n\r\n// let store = createStore(todoApp)\r\n\r\nrender(\r\n  <LoginFrom />,\r\n  document.getElementById('root')\r\n);\n\n\n// WEBPACK FOOTER //\n// ./src/client/routes/users/login.js","import React from 'react';\nimport { connect } from 'react-redux';\n// import fetch from 'isomorphic-fetch'\n\nclass LoginFrom extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLogining: false,\n      mobile: '',\n      password: ''\n    };\n    this.change = this.change.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  change(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  submit(e) {\n    e.preventDefault();\n    this.setState({\n      isLogining: true\n    });\n\n    var body = { mobile: this.state.mobile, password: this.state.password };\n    fetch('/login', { \n        method: 'POST',\n        credentials: 'same-origin',//enable cookie\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(body),\n    })\n      .then(res => res.json())\n      .then(res => {\n        this.setState({isLogining: false});\n        res.message && alert(res.message);\n        if(res.code == 200) {\n          location.href = res.location;\n        }\n      })\n      .catch(err => this.setState({isLogining: false}));\n  }\n\n  render() {\n    return (\n      <form onSubmit={this.submit}>\n        <input type=\"text\" name=\"mobile\" value={this.state.mobile} onChange={this.change} />\n        <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.change} />\n        <button type=\"submit\" disabled={this.state.isLogining}>登录</button>\n      </form>\n    )\n  }\n}\n\nexport default LoginFrom\n\n\n// WEBPACK FOOTER //\n// ./src/client/containers/LoginFrom.js"],"sourceRoot":""}